//  = link_to resource, resource#, 'data-type' => resource.class

%div.btn-group
  -if can? :edit, resource
    %button.btn= link_to 'Rename', [:edit, resource]
  -if can? :edit, resource
    %button.btn= link_to 'Upload new version from my computer', new_ontology_ontology_version_path(resource, :from => 'http-client')
    %button.btn= link_to 'Import new version from other website', new_ontology_ontology_version_path(resource, :from => 'http-server')
  -if can? :edit, resource
    %button.btn= link_to 'Delete', resource, :confirm => 'Do you really want to delete this ontology?', :method => :delete
%br
%h2{'style' => 'display: inline-block'}
  %span= link_to resource
  %small
    -if !resource.language_id.nil?
      = link_to resource.language, resource.language
    - else
      = 'unknown'
    = '/'
    = link_to resource.logic.to_s, resource.logic
  - if resource.state != 'done'
    %small#ontology-state{ class: resource.state, 'data-uri' => url_for(resource) }
      = status resource





%div= link_to resource.iri, download_path(resource) if download_path(resource)
%div= resource.description

%nav
  %ul.nav.nav-tabs
    %li= link_to 'Content', [resource, :entities]
    %li= link_to 'Comments', [resource, :comments]
    %li= link_to 'Metadata', [resource, :metadata]
    %li= link_to 'Versions', [resource, :ontology_versions]
  %nav
    %ul.nav.nav-tabs
      - @entities.each do |entity|
        %li{:class => (entity.kind == @active_kind ? 'active' : nil)}
          %a{:href => ontology_entities_path(resource, :kind => entity.kind)}
            = pluralize(entity.count, entity.kind)
            %span.badge{:style => entity.count == 0 && 'display:none'}= entity.count
      - pages.each do |page, path, count|
        %li{:class => (page==current_page ? 'active' : nil)}
          %a{:href => url_for(path)}
            = page.to_s.capitalize
            - if count # hide counter if empty
              %span.badge{:style => count==0 && 'display:none'}= count